@if (authService.isAuthenticated()) {
  <mat-sidenav-container
    class="app-container"
    [class.sidenav-collapsed]="!isMobile() && sidebarCollapsed()"
  >
    <mat-sidenav
      [mode]="isMobile() ? 'over' : 'side'"
      [opened]="isMobile() ? sidenavOpen() : true"
      (openedChange)="sidenavOpen.set($event)"
    >
      <app-sidebar [collapsed]="!isMobile() && sidebarCollapsed()" />
    </mat-sidenav>

    <mat-sidenav-content>
      <mat-toolbar class="app-toolbar">
        <button mat-icon-button (click)="toggleSidenav()" aria-label="Toggle navigation">
          <mat-icon>menu</mat-icon>
        </button>
        <span class="toolbar-spacer"></span>
        <app-language-switcher />
        <button
          mat-icon-button
          (click)="themeService.toggleTheme()"
          [attr.aria-label]="(themeService.isDark() ? 'nav.lightMode' : 'nav.darkMode') | translate"
        >
          <mat-icon>{{ themeService.isDark() ? 'light_mode' : 'dark_mode' }}</mat-icon>
        </button>
        <button mat-stroked-button class="logout-btn" (click)="logout()">
          {{ 'nav.logout' | translate }}
        </button>
      </mat-toolbar>

      <main class="main-content">
        <router-outlet />
      </main>
    </mat-sidenav-content>
  </mat-sidenav-container>
} @else {
  <router-outlet />
}
